graph LR

    %% 
    %% Name: s_endstop.mmd
    %% Description: 
    %% 
    %% Created Date: February 2024
    %% Author:
    %% 		Lukáš Laštůvka
    %% 		https://github.com/LastuvkaLukas
    %% 
    %% License: Apache License 2.0 (https://www.apache.org/licenses/LICENSE-2.0)
    %% Copyright (c) 2024 Lukáš Laštůvka
    %% 

    %% Styles
    classDef mainNode fill:#000,color:#fff,stroke:#000000,stroke-width:2px;
    classDef greenNode fill:#77DD77,stroke:#000000,stroke-width:2px;
    classDef yellowNode fill:#F7DC6F,stroke:#000000,stroke-width:2px;
    classDef redNode fill:#FF5733,stroke:#000000,stroke-width:2px;

    %% Nodes
    Main(<b>Endstop)
    A(<b>Display)
        A1(<b>Show EMPTY)
        A2(<b>Show OPEN)
        A3(<b>Show CLOSE)
    B(<b>Stop OPEN)
    C(<b>Stop CLOSE)

    %% Set styles
    class Main mainNode
    class A1,A2,A3,B,C greenNode;
    class A yellowNode;

    %% Diagram
    Main --> A
        A -->|<b>!endstop_a &&\n !endstop_b &&\n !mode_wait &&\n !servo_start| A1
        A -->|<b>endstop_a &&\n !endstop_b &&\n !mode_wait &&\n !servo_start &&\n !servo_right| A2
        A -->|<b>!endstop_a &&\n endstop_b &&\n !mode_wait &&\n !servo_start &&\n !servo_left| A3
    Main -->|<b>endstop_a| B
    Main -->|<b>endstop_b| C